package com.betacom.jpa.process;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Component;

import com.betacom.jpa.exception.AcademyException;
import com.betacom.jpa.requests.SocioReq;
import com.betacom.jpa.services.interfaces.ICertificatoServices;
import com.betacom.jpa.services.interfaces.ISocioServices;

import lombok.extern.log4j.Log4j2;

@Log4j2
@Component
public class MainProcess {

	@Autowired
	private ISocioServices socioR;
	
	@Autowired
	private ICertificatoServices certificatoServices;
	
	public void execute() {
		
		SocioReq r = new SocioReq();
		
		r.setNome("Paolo");
		r.setCognome("Rossi");
		r.setCodiceFiscale("RSSMRA85M01H501Z");
		r.setEmail("p.rossi@gmail.com");
		
		try {
			int socioId = socioR.insert(r);
		} catch (AcademyException e) {
			log.error(e.getMessage());
		}
		
		log.debug("Fine insert!");
	}
	
}
